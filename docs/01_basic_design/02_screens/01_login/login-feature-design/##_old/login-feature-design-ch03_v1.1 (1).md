# 第3章: ログイン画面詳細

**Document:** LOGIN画面 機能設計書 v1.1  
**Chapter:** 3 of 6  
**Last Updated:** 2025/10/27  
**Design System:** HarmoNet Design System v1

---

## 3.1 画面構成（3層構造）

ログイン画面は、統一された3層構造を採用します。

```
┌─────────────────────────────────────┐
│   ヘッダー領域 (Layer 1)             │
│   - アプリタイトル                    │
│   - 言語切替ボタン                    │
├─────────────────────────────────────┤
│                                     │
│   コンテンツ領域 (Layer 2)           │
│   - タイトル                         │
│   - サブタイトル                     │
│   - 入力フォーム                     │
│     ∟ メールアドレス                │
│     ∟ テナントID                    │
│   - 送信ボタン                       │
│                                     │
├─────────────────────────────────────┤
│   フッター領域 (Layer 3)             │
│   - リンク（利用規約等）              │
│   - コピーライト                     │
└─────────────────────────────────────┘
```

---

## 3.2 ヘッダー領域

### 構成要素

| 要素 | 説明 | 必須 |
|------|------|------|
| **アプリタイトル** | 「セキュレアシティ」 | ✅ |
| **言語切替ボタン** | JA / EN / CN | ✅ |

### デザイン仕様

**背景:**
- 背景色: `#FFFFFF` (白)
- 下ボーダー: `1px solid #E5E7EB`

**アプリタイトル:**
- フォントサイズ: 16px
- フォントウェイト: 600 (Semibold)
- 文字色: `#1F2937`
- 配置: 左寄せ

**言語切替ボタン:**
- 背景色: `#F9FAFB` (ベースカラー)
- フォントサイズ: 13px
- フォントウェイト: 500 (Medium)
- 文字色（非選択時）: `#6B7280`
- 文字色（選択時）: `#2563EB`
- パディング: 4px 10px
- 角丸: 0.5rem (8px)
- ボタン間隔: 4px

**ホバー時（PC/タブレット）:**
```css
.lang-btn:hover {
  color: #2563EB;
}
```

**選択状態:**
```css
.lang-btn--active {
  background: #FFFFFF;
  color: #2563EB;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
```

### レスポンシブ対応

| デバイス | パディング | タイトルサイズ | ボタンサイズ |
|---------|----------|---------------|-------------|
| **PC** | 16px 24px | 16px | 13px |
| **タブレット** | 16px 24px | 16px | 13px |
| **スマートフォン** | 16px 20px | 16px | 13px |

---

## 3.3 コンテンツ領域

### 全体構成

**背景:**
- 背景色: `#F9FAFB` (ベースカラー)

**カード:**
- 背景色: `#FFFFFF` (白)
- 角丸: 1rem (16px)
- 影: `0 1px 2px 0 rgba(0, 0, 0, 0.05)` (shadow-sm)
- 枠線: `1px solid #E5E7EB`
- 最大幅: 380px
- パディング: 32px 24px

### タイトル・サブタイトル

**サブタイトル:**
- テキスト: 「ご入居者様専用WEBサイト」
- フォントサイズ: 12px
- 文字色: `#9CA3AF`
- 配置: 中央寄せ
- 下マージン: 8px

**タイトル:**
- テキスト: 「Smart Community」
- フォントサイズ: 18px
- フォントウェイト: 600 (Semibold)
- 文字色: `#1F2937`
- 配置: 中央寄せ
- 下マージン: 24px

**セクションタイトル:**
- テキスト: 「ログイン」
- フォントサイズ: 16px
- フォントウェイト: 500 (Medium)
- 文字色: `#1F2937`
- 配置: 中央寄せ
- 下マージン: 24px

### 多言語対応

| 言語 | サブタイトル | タイトル | セクションタイトル |
|------|-------------|---------|-------------------|
| **日本語(JA)** | ご入居者様専用WEBサイト | Smart Community | ログイン |
| **英語(EN)** | Resident Portal | Smart Community | Login |
| **中国語(CN)** | 居民专用网站 | Smart Community | 登录 |

---

## 3.4 入力フォーム

### フォーム構成

```
┌─────────────────────────────────┐
│  メールアドレス                  │
│  ┌─────────────────────────┐    │
│  │ demo@securea-city.jp    │    │
│  └─────────────────────────┘    │
│                                 │
│  テナントID                      │
│  ┌─────────────────────────┐    │
│  │ TKSC01                  │    │
│  └─────────────────────────┘    │
│                                 │
│  ┌─────────────────────────┐    │
│  │  ログインリンクを送信     │    │
│  └─────────────────────────┘    │
└─────────────────────────────────┘
```

---

## 3.5 入力項目の詳細仕様

### メールアドレス

**項目情報:**
| 項目 | 仕様 |
|------|------|
| **フィールド名** | email |
| **ラベル** | メールアドレス |
| **type** | email |
| **必須** | ✅ Yes |
| **プレースホルダー** | demo@securea-city.jp |
| **最大文字数** | 255文字 |

**バリデーション:**
- 必須入力チェック
- メール形式チェック（RFC 5322準拠）
- 最大文字数チェック（255文字）

**正規表現例:**
```javascript
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
```

**エラーメッセージ:**
| エラー | 日本語 | 英語 | 中国語 |
|--------|--------|------|--------|
| 必須エラー | メールアドレスを入力してください | Please enter your email address | 请输入电子邮件地址 |
| 形式エラー | 正しいメールアドレスを入力してください | Please enter a valid email address | 请输入有效的电子邮件地址 |
| 文字数超過 | メールアドレスが長すぎます（255文字以内） | Email address is too long (max 255 characters) | 电子邮件地址过长（最多255个字符） |

---

### テナントID

**項目情報:**
| 項目 | 仕様 |
|------|------|
| **フィールド名** | tenantId |
| **ラベル** | テナントID |
| **type** | text |
| **必須** | ✅ Yes |
| **プレースホルダー** | TKSC01 |
| **文字数** | 6文字固定 |
| **形式** | AABB99（英字大文字4桁 + 数字2桁） |

**入力制御:**
- 大文字自動変換（小文字入力時）
- 半角英数字のみ許可
- 6文字入力でフォーカス自動移動（オプション）

**バリデーション:**
- 必須入力チェック
- 文字数チェック（6文字固定）
- 形式チェック（AABB99）
- テナントマスタ存在チェック（サーバー側）

**正規表現:**
```javascript
const tenantIdRegex = /^[A-Z]{4}[0-9]{2}$/;
```

**入力例・ガイド:**
```
プレースホルダー: TKSC01
ヘルプテキスト: 英字大文字4桁 + 数字2桁（例: TKSC01）
```

**エラーメッセージ:**
| エラー | 日本語 | 英語 | 中国語 |
|--------|--------|------|--------|
| 必須エラー | テナントIDを入力してください | Please enter tenant ID | 请输入租户ID |
| 形式エラー | テナントIDの形式が正しくありません（英字大文字4桁+数字2桁） | Invalid tenant ID format (4 letters + 2 digits) | 租户ID格式不正确（4个字母+2个数字） |
| 文字数エラー | テナントIDは6文字です | Tenant ID must be 6 characters | 租户ID必须为6个字符 |
| 存在エラー | テナントIDが見つかりません | Tenant ID not found | 找不到租户ID |

---

### 送信ボタン

**ボタン仕様:**
| 項目 | 仕様 |
|------|------|
| **ラベル** | ログインリンクを送信 |
| **type** | submit |
| **背景色** | `#2563EB` (アクションブルー) |
| **文字色** | `#FFFFFF` (白) |
| **幅** | 100% |
| **高さ** | 48px (パディング: 14px) |
| **角丸** | 0.5rem (8px) |
| **フォントサイズ** | 14px |
| **フォントウェイト** | 600 (Semibold) |

**ホバー時（PC/タブレット）:**
```css
.btn-submit:hover {
  background: #1D4ED8;
  transition: background-color 0.2s;
}
```

**アクティブ時（クリック）:**
```css
.btn-submit:active {
  background: #1E40AF;
}
```

**無効状態:**
```css
.btn-submit:disabled {
  background: #9CA3AF;
  cursor: not-allowed;
  opacity: 0.6;
}
```

**ローディング状態:**
- ボタンを無効化
- ローディングアイコン（スピナー）を表示
- テキスト: 「送信中...」

**多言語対応:**
| 言語 | ボタンラベル | 送信中 |
|------|-------------|--------|
| **日本語(JA)** | ログインリンクを送信 | 送信中... |
| **英語(EN)** | Send Login Link | Sending... |
| **中国語(CN)** | 发送登录链接 | 发送中... |

---

## 3.6 デザイン仕様

### カラーパレット（HarmoNet準拠）

| 用途 | カラーコード | 説明 |
|------|-------------|------|
| **背景（Base）** | `#F9FAFB` | 全体背景 |
| **カード背景** | `#FFFFFF` | 主要ブロック背景 |
| **枠線・分割線** | `#E5E7EB` | 最小限の線 |
| **主要文字色** | `#1F2937` | タイトル、重要テキスト |
| **副次文字色** | `#6B7280` | メタ情報、補助文字 |
| **補足文字色** | `#9CA3AF` | タグ、注釈 |
| **アクションブルー** | `#2563EB` | 送信ボタン、主要アクション |
| **アクションブルー（Hover）** | `#1D4ED8` | ホバー時 |
| **アクションブルー（Active）** | `#1E40AF` | アクティブ時 |
| **注意レッド** | `#DC2626` | エラーメッセージ |
| **Border（通常）** | `#E5E7EB` | 入力フィールド枠線 |
| **Border（Focus）** | `#2563EB` | 入力フィールドフォーカス時 |

### タイポグラフィ（HarmoNet準拠）

**フォントファミリー:**
```css
font-family: 'BIZ UDゴシック', -apple-system, BlinkMacSystemFont, 
             'Segoe UI', 'SF Pro Text', Roboto, 'Helvetica Neue', 
             Arial, sans-serif;
```

**フォントサイズ:**
| 要素 | サイズ | ウェイト | 行間 |
|------|-------|---------|------|
| H1（画面タイトル） | 18px | 600 (Semibold) | 1.6 |
| H2（セクションタイトル） | 16px | 500 (Medium) | 1.6 |
| Body（本文） | 14px | 400 (Regular) | 1.6 |
| Meta（補助情報） | 12px | 400 (Regular) | 1.6 |
| ラベル | 14px | 500 (Medium) | 1.6 |
| 入力値 | 14px | 400 (Regular) | 1.6 |
| ボタン | 14px | 600 (Semibold) | 1.6 |

### スペーシング（HarmoNet準拠）

**余白基準: 16px / 24px / 32px**

**カード内:**
- パディング: 32px 24px（PC）、32px 20px（モバイル）
- タイトル下マージン: 24px
- セクションタイトル下マージン: 24px
- フォームグループ間: 16px
- ボタン上マージン: 24px

**入力フィールド:**
- パディング: 12px 16px
- ラベル下マージン: 8px

### 角丸設定（HarmoNet準拠）

| 要素 | 角丸 |
|------|------|
| カード | 1rem (16px) |
| 入力フィールド | 0.5rem (8px) |
| ボタン | 0.5rem (8px) |
| 言語切替ボタン | 0.5rem (8px) |

### シャドウポリシー（HarmoNet準拠）

**使用は最小限。shadow-smを基準。**

```css
/* カードのみ適用 */
.login-card {
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
```

---

## 3.7 入力フィールドのデザイン

### 通常状態

```css
.form-input {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid #E5E7EB;
  border-radius: 0.5rem;
  font-size: 14px;
  color: #1F2937;
  background: #F9FAFB;
  transition: all 0.2s;
  line-height: 1.6;
}
```

### フォーカス状態

```css
.form-input:focus {
  outline: none;
  border-color: #2563EB;
  background: #FFFFFF;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}
```

### エラー状態

```css
.form-input--error {
  border-color: #DC2626;
  background: #FFFFFF;
}

.form-input--error:focus {
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}
```

### ラベル

```css
.form-label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: #1F2937;
  margin-bottom: 8px;
  line-height: 1.6;
}
```

### エラーメッセージ

```css
.error-message {
  color: #DC2626;
  font-size: 12px;
  margin-top: 4px;
  line-height: 1.6;
}
```

---

## 3.8 フッター領域

### 構成要素

**リンク:**
- 利用規約
- プライバシーポリシー
- お問い合わせ

**コピーライト:**
- © 2025 SECUREA City. All rights reserved.

### デザイン仕様

**背景:**
- 背景色: `#FFFFFF` (白)
- 上ボーダー: `1px solid #E5E7EB`

**リンク:**
- フォントサイズ: 12px
- 文字色: `#2563EB`
- テキスト装飾: なし
- ホバー時: 下線表示

**コピーライト:**
- フォントサイズ: 12px
- 文字色: `#9CA3AF`
- 行間: 1.6

**レイアウト:**
- パディング: 16px 24px
- テキスト配置: 中央寄せ
- リンク間セパレーター: "|"
- リンク間隔: 8px

### 多言語対応

| 言語 | 利用規約 | プライバシーポリシー | お問い合わせ |
|------|---------|-------------------|-------------|
| **日本語(JA)** | 利用規約 | プライバシーポリシー | お問い合わせ |
| **英語(EN)** | Terms of Service | Privacy Policy | Contact |
| **中国語(CN)** | 使用条款 | 隐私政策 | 联系我们 |

---

## 3.9 レスポンシブ対応

### ブレークポイント

| デバイス | 幅 | 調整内容 |
|---------|-----|---------|
| **PC** | > 768px | デフォルト |
| **タブレット** | 768px | カード幅調整 |
| **スマートフォン** | < 768px | パディング縮小 |

### スマートフォン最適化

**カード:**
- パディング: 32px 20px

**タイトル:**
- フォントサイズ: 18px（変更なし）

**入力フィールド:**
- タップ領域確保（最小44px高さ）
- フォントサイズ: 16px（iOS自動ズーム防止）

**ヘッダー:**
- パディング: 16px 20px

**フッター:**
- パディング: 16px 20px

---

## 3.10 アクセシビリティ

### セマンティックHTML

```html
<main class="page-content">
  <div class="login-card">
    <header class="login-card__header">
      <h1>Smart Community</h1>
      <h2>ログイン</h2>
    </header>
    
    <form id="loginForm" aria-label="ログインフォーム">
      <div class="form-group">
        <label for="email" class="form-label">メールアドレス</label>
        <input 
          type="email" 
          id="email" 
          name="email"
          class="form-input"
          required
          aria-required="true"
          aria-describedby="email-error"
          placeholder="demo@securea-city.jp"
        >
        <span id="email-error" class="error-message" role="alert"></span>
      </div>
      
      <div class="form-group">
        <label for="tenantId" class="form-label">テナントID</label>
        <input 
          type="text" 
          id="tenantId" 
          name="tenantId"
          class="form-input"
          required
          aria-required="true"
          aria-describedby="tenantId-error"
          placeholder="TKSC01"
          maxlength="6"
        >
        <span id="tenantId-error" class="error-message" role="alert"></span>
      </div>
      
      <button type="submit" class="btn-submit">
        ログインリンクを送信
      </button>
    </form>
  </div>
</main>
```

### キーボードナビゲーション

**Tab順序:**
1. 言語切替ボタン（JA）
2. 言語切替ボタン（EN）
3. 言語切替ボタン（CN）
4. メールアドレス入力
5. テナントID入力
6. 送信ボタン
7. フッターリンク（利用規約）
8. フッターリンク（プライバシーポリシー）
9. フッターリンク（お問い合わせ）

**Enter キー:**
- フォーム内でEnterキー押下 → 送信

**Escapeキー:**
- エラーメッセージ表示時 → エラー非表示

### フォーカスインジケーター

```css
.form-input:focus,
.btn-submit:focus,
.lang-btn:focus {
  outline: 2px solid #2563EB;
  outline-offset: 2px;
}
```

### コントラスト比

**WCAG 2.1 Level AA準拠:**
- テキストとバックグラウンド: 4.5:1以上
- ボタンテキスト: 4.5:1以上
- エラーメッセージ: 4.5:1以上

**検証済みコントラスト比:**
| 要素 | 前景色 | 背景色 | 比率 | 状態 |
|------|--------|--------|------|------|
| 主要文字 | `#1F2937` | `#FFFFFF` | 14.5:1 | ✅ AAA |
| 副次文字 | `#6B7280` | `#FFFFFF` | 5.6:1 | ✅ AA |
| ボタン文字 | `#FFFFFF` | `#2563EB` | 5.9:1 | ✅ AA |
| エラー文字 | `#DC2626` | `#FFFFFF` | 5.4:1 | ✅ AA |

---

## 3.11 デザイン哲学の適用

### 「静かで、安心できる、永く使えるUI」の実現

**1. 静けさの表現:**
- グラデーション背景を排除し、`#F9FAFB`のベースカラーで統一
- 彩度を低めに抑えた色使い（S 40%以下）
- 装飾的な要素を最小限に

**2. 安心感の提供:**
- 白を基調としたカード背景で清潔感を表現
- 視認性の高いコントラスト比を確保
- 明確なフィードバック（エラー、フォーカス状態）

**3. 永く使える設計:**
- トレンドに左右されないニュートラルな配色
- シンプルで理解しやすいレイアウト
- アクセシビリティ基準の遵守

**4. 余白による呼吸感:**
- 16px / 24px / 32pxの余白基準を厳守
- 情報の優先順位を距離で表現
- グリッドを見せない自然なリズム

**5. 最小限のシャドウ:**
- カードにのみshadow-smを適用
- 階層を表現するための控えめな使用
- 情報の強調ではなく「浮き」の表現

---

**[← 前の章: 第2章 認証フローと画面構成](login-feature-design-ch02.md)**

**[次の章へ: 第4章 メール送信完了画面詳細 →](login-feature-design-ch04.md)**

**[目次に戻る ↑](login-feature-design-ch00-index.md)**
