# 第2章: 掲示板の種類とカテゴリ

**掲示板機能 詳細設計書 v2.0**

[← 第1章](board-feature-design-ch01.md) | [目次に戻る](board-feature-design-ch00-index.md) | [第3章へ →](board-feature-design-ch03.md)

---

## 2.1 掲示板の種類

本アプリでは、用途に応じて3種類の掲示板を提供します。

### 2.1.1 全体掲示板（一般掲示板）

**対象**

セキュレアシティ全住民

**用途**

コミュニティ全体に関わる話題・質問・情報共有

**投稿権限**

全住民が投稿可能

**閲覧権限**

全住民が閲覧可能

**特徴**

- ニックネーム表示が基本
- 誰でも返信可能
- カテゴリによる分類（イベント、質問、情報共有など）
- 最も活発に利用される掲示板

**想定される投稿例**

- 「近くのおすすめの小児科を教えてください」
- 「今週末のイベント情報」
- 「夜間の騒音について相談したいことがあります」
- 「駐車場の空き状況について」

---

### 2.1.2 グループ掲示板 ★差別化要素

**差別化のポイント**

グループ掲示板は、**カテゴリベースの権限制御**によって実現します。画面は統一され、表示されるカテゴリのみが異なります。

**対象**

特定の棟・エリア・グループのみ

**用途**

棟内の連絡事項、棟固有の問題・相談

**投稿権限**

該当グループメンバーのみ

**閲覧権限**

該当グループメンバーのみ

**実装方法**

- カテゴリに`group_id`を紐付け
- ユーザーの所属グループIDと照合して表示制御
- 画面は全体掲示板と統一、カテゴリ選択肢のみ異なる

**想定されるグループ例**

| グループ名 | 対象 | 用途例 |
|-----------|------|--------|
| A棟住民専用 | A棟の住民のみ | 「A棟エントランスの電球が切れています」 |
| B棟住民専用 | B棟の住民のみ | 「B棟の清掃当番表を共有します」 |
| 1階住民専用 | 1階の住民のみ | 「宅配ボックスの使い方について」 |
| 子育て世帯限定 | 子育て世帯のみ | 「保育園の送迎を一緒にしませんか」 |

**想定される投稿例**

- 「A棟エントランスの電球が切れています」（A棟住民専用）
- 「B棟の清掃当番表を共有します」（B棟住民専用）
- 「1階の廊下に荷物が置かれています」（1階住民専用）

**メリット**

- 棟・エリア固有の話題を扱える
- 全体掲示板が過度に混雑するのを防ぐ
- ローカルなコミュニケーションを促進

---

### 2.1.3 回覧板・重要お知らせ

**対象**

管理組合からの公式通知

**用途**

総会案内、工事予定、緊急連絡など

**投稿権限**

管理者のみ

**閲覧権限**

全住民（グループ回覧も可能）

**特徴**

- 実名表示（管理組合名義）
- 返信不可
- 既読管理機能あり
- 未読者に通知送信
- 一覧画面で最上部に固定表示

**想定される投稿例**

- 「【重要】総会開催のお知らせ（2025年11月15日）」
- 「【緊急】断水工事のお知らせ（10月30日）」
- 「【お知らせ】管理費改定のご案内」

**紙の回覧板との違い**

| 項目 | 紙の回覧板 | デジタル回覧板 |
|------|-----------|--------------|
| 配布速度 | 遅い（数日〜1週間） | 即時 |
| 既読確認 | 困難 | 自動管理 |
| 保管 | 紛失リスクあり | データベースに保存 |
| 多言語対応 | 困難 | 自動翻訳 |
| アクセス | 順番待ち | いつでも閲覧可能 |

---

## 2.2 カテゴリ管理

### 2.2.1 カテゴリの設計方針

**カテゴリは管理者が事前に登録するマスター方式**を採用します。ユーザーが自由にタグを作成する方式（SNS型）は採用しません。

**マスター方式を採用する理由**

1. **投稿の分散防止**: カテゴリが乱立すると、情報が分散し、見つけにくくなる
2. **誤字・表記ゆれの防止**: 「イベント」「いべんと」「event」などの表記ゆれを防ぐ
3. **管理者による意図的な構成**: コミュニティに適したカテゴリ構成を維持できる
4. **シンプルさの維持**: ユーザーが迷わずカテゴリを選択できる

**SNS型のタグ方式を不採用とする理由**

- ユーザーが自由にタグを作成すると、似たようなタグが乱立
- 検索性が低下（「イベント」と「event」が別々に扱われる）
- 管理が煩雑になる

---

### 2.2.2 カテゴリの種類

| カテゴリタイプ | 説明 | 表示対象 |
|--------------|------|---------|
| **共通カテゴリ** | 全住民が利用可能なカテゴリ | 全ユーザー |
| **グループ専用カテゴリ** | 特定グループのみが利用可能 | 該当グループメンバーのみ |
| **管理者専用カテゴリ** | 回覧板・公式お知らせ用 | 管理者のみ投稿可能 |

---

### 2.2.3 標準カテゴリ例

#### 共通カテゴリ（全体掲示板）

| カテゴリ名 | アイコン | 説明 | 色 |
|-----------|---------|------|-----|
| お知らせ（管理組合公式） | 📣 | 管理組合からの公式情報 | 青 |
| 質問・相談 | ❓ | 住民からの質問や相談 | 緑 |
| 雑談・交流 | 💬 | 気軽な話題、交流 | グレー |
| イベント情報 | 🎉 | コミュニティイベント | オレンジ |
| 不具合・修繕 | 🔧 | 設備の不具合報告 | 赤 |
| 駐車場・駐輪場 | 🚗 | 駐車場・駐輪場に関する話題 | 紫 |
| 宅配・ゴミ出し | 📦 | 宅配ボックス、ゴミ出しルール | 茶色 |
| 子育て情報 | 👶 | 子育て世帯向け情報 | ピンク |
| ペット関連 | 🐾 | ペットに関する話題 | 黄色 |
| 周辺情報 | 🏪 | 近隣の店舗・施設情報 | 水色 |

#### グループ専用カテゴリ例

| カテゴリ名 | アイコン | 対象グループ | 説明 |
|-----------|---------|-------------|------|
| A棟連絡事項 | 🏢 | A棟住民 | A棟固有の連絡事項 |
| B棟連絡事項 | 🏢 | B棟住民 | B棟固有の連絡事項 |
| 1階住民専用 | 🏢 | 1階住民 | 1階固有の話題 |

#### 管理者専用カテゴリ

| カテゴリ名 | アイコン | 説明 | 色 |
|-----------|---------|------|-----|
| 回覧板（重要） | 📋 | 管理組合からの重要連絡 | 赤（太字） |
| 緊急連絡 | ⚠️ | 緊急性の高い情報 | 赤（点滅） |

---

### 2.2.4 カテゴリのUI表示

#### バッジ形式

カテゴリ名を小さなバッジで表示します。

**表示位置**

- 投稿カード: 左上
- 投稿詳細画面: タイトル上

**表示仕様**

```
┌─────────────────┐
│ 📣 お知らせ     │ ← カテゴリバッジ
├─────────────────┤
│ タイトル         │
│ 本文プレビュー... │
└─────────────────┘
```

#### 色の割り当て

カテゴリごとに固定色を設定します。

| カテゴリ | 背景色 | 文字色 |
|---------|-------|-------|
| お知らせ | 青 | 白 |
| 質問・相談 | 緑 | 白 |
| 雑談・交流 | グレー | 黒 |
| イベント情報 | オレンジ | 白 |
| 不具合・修繕 | 赤 | 白 |

#### デザイン注意点

カテゴリ表示は目立ちすぎないよう、シンプルで控えめなデザインにします。SNSのような派手なタグ表示は避けます。

**良い例**

```
[📣 お知らせ] タイトル
```

**悪い例**

```
#お知らせ #管理組合 #重要 #必読
```

---

### 2.2.5 管理者によるカテゴリ管理画面

#### 機能

- カテゴリの追加・編集・削除
- カテゴリの有効/無効切り替え
- カテゴリの表示順変更（ドラッグ＆ドロップ）
- カテゴリの色・アイコン設定
- グループIDの紐付け設定

#### 管理画面の構成

```
カテゴリ管理
├── カテゴリ一覧
│   ├── カテゴリ名
│   ├── アイコン
│   ├── 色
│   ├── グループID（グループ専用カテゴリのみ）
│   ├── 有効/無効
│   └── 操作（編集・削除）
└── 新規カテゴリ追加ボタン
```

#### 無効化の動作

- 無効化されたカテゴリは新規投稿時の選択肢に表示されない
- 既存の投稿は引き続き表示される（カテゴリバッジはグレーアウト）
- 再度有効化すると、選択肢に復活

#### カテゴリ削除の注意

カテゴリを削除すると、そのカテゴリに属する既存の投稿が「カテゴリなし」になります。削除前に確認ダイアログを表示します。

```
【警告】
このカテゴリを削除すると、15件の投稿が「カテゴリなし」になります。
本当に削除しますか?

[キャンセル] [削除する]
```

---

## まとめ

第2章では、掲示板の種類（全体/グループ/回覧板）とカテゴリ管理の仕様を定義しました。

**重要なポイント**

- 3種類の掲示板（全体/グループ/回覧板）を用途に応じて使い分け
- グループ掲示板は、カテゴリベースの権限制御で実現
- カテゴリはマスター方式で管理し、ユーザーが自由に作成しない
- カテゴリの色・アイコンで視認性を向上

---

[← 第1章](board-feature-design-ch01.md) | [目次に戻る](board-feature-design-ch00-index.md) | [第3章へ →](board-feature-design-ch03.md)

---

**Document ID:** SEC-APP-BOARD-DESIGN-002-CH02  
**Created:** 2025-10-27  
**Last Updated:** 2025-10-27
