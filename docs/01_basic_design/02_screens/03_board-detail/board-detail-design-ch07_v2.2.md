# 第7章: 掲示板詳細画面（インタラクション設計）

**掲示板詳細画面 設計書 v2.2**

[← 第6章](board-detail-design-ch06_v2.2.md) | [目次に戻る](board-detail-design-ch00-index.md)

---

## 🆕 ChangeLog (v2.2 / 2025-10-31)

- 初版v1.0を全面再構成し、インタラクション設計のみを対象範囲とした  
- 画面遷移・プレビュー・通知動作をHarmoNet共通ルールに統一  
- 冗長な実装記述を削除し、UI/UX観点の動作定義に置き換え  
- トーン＆マナーを「やさしく・自然・控えめ」に統一  
- バージョン／日付／Document IDを共通フォーマットへ更新  

---

## 7.1 概要

本章は、掲示板詳細画面における**ユーザーインタラクション（操作体験）**の基本設計を定義する。  
対象範囲は、画面遷移、モーダル動作、通知・エラー表示など、ユーザー操作に対するUIの応答全般である。

目的は「住民が迷わず、安全に、安心して操作できるUI体験」を実現することであり、  
HarmoNetのデザイン原則である**「やさしく・自然・控えめ」**をベースとする。

---

## 7.2 基本動作ルール

### 7.2.1 一貫性
- すべての操作結果は、即時または視覚的に一貫したフィードバックを返す。  
- 成功／失敗の応答表現は共通の配色とモーションを使用する。  
  - 成功：淡青フェードイン（#E3F2FD → #FFFFFF）  
  - 失敗：淡赤フェードイン（#FFEBEE → #FFFFFF）  

### 7.2.2 可逆性
- 操作ミスを想定し、取り消し可能な設計を採用する（例：削除→「元に戻す」リンク表示）。  
- フォーカス外クリックでは致命操作が発生しないように設計する。  

### 7.2.3 即時フィードバック
- ボタン押下時に0.2s以内の視覚変化（色または押下感）を返す。  
- モーダル開閉や画面遷移は0.3〜0.4sのトランジションで統一。  

---

## 7.3 画面遷移とアニメーション

### 7.3.1 遷移ルール

| 遷移元 | 遷移先 | アニメーション | 備考 |
|--------|--------|----------------|------|
| 掲示板一覧 | 掲示板詳細 | フェードイン＋上方向スライド | 一貫動作 |
| 掲示板詳細 | 掲示板一覧 | フェードアウト＋下方向スライド | 戻る動作の自然化 |
| 掲示板詳細 | PDFプレビュー | フェード＋拡大エフェクト | 別レイヤ扱い |

- トランジション時間は0.3s固定。  
- Easingは`ease-in-out`を採用（自然な動作）。  

### 7.3.2 スクロール動作
- 詳細画面スクロール時、ヘッダーを半透過で固定（背景#FFFFFF, opacity 0.95）。  
- スクロール量に応じてシャドウを付与（0→`shadow-sm`）。  

---

## 7.4 モーダル・プレビュー挙動

### 7.4.1 共通仕様

| 要素 | 動作仕様 |
|------|----------|
| モーダル表示 | 全画面フェードイン（0.25s） |
| 背景 | 半透明黒 (`rgba(0,0,0,0.5)`) |
| 閉じる操作 | 上部の「閉じる」または✕アイコンをタップ |
| 背景クリック | 無効化（誤操作防止） |
| スクロール | 内部コンテンツ優先（PDF・画像） |
| 閉じる時 | フェードアウト（0.25s）で自然に戻す |

### 7.4.2 PDFプレビュー
- `PDF.js` によりPDFを埋め込み表示。  
- プレビュー中もスクロール／ズーム操作を可能とする。  
- モーダル下部中央に「タップで閉じる」ガイドを控えめに表示。  

### 7.4.3 通報・削除モーダル
- テキスト中心の軽量モーダルとして表示。  
- 操作ボタンは青（確定）／灰（キャンセル）で明確化。  
- 確認モーション：フェード＋軽いバウンド（0.2s）。  

---

## 7.5 確認・エラー・通知の表示

### 7.5.1 成功通知
- 投稿成功・編集成功・既読登録成功などは、画面下部トーストで表示（3秒で自動消去）。  
- 背景：淡青（#E3F2FD）、文字色：#1565C0、アイコン：✅  

### 7.5.2 エラー通知
- 通信エラーやモデレーション拒否時に赤系トーストを表示。  
- 背景：#FFEBEE、文字色：#C62828、アイコン：⚠  
- 3秒後自動フェードアウト。  

### 7.5.3 確認ダイアログ
- 削除・報告など重大操作時は必ず確認を要求。  
- 「キャンセル」「実行」ボタンを明確に分離（距離8px以上）。  

---

## 7.6 トーン＆マナー（共通指針）

- 操作体験全体を「やさしく・自然・控えめ」に統一。  
- モーションは最小限に抑え、視覚負荷を軽減する。  
- 高齢者層でも安心して操作できるよう、誤タップ防止を最優先。  
- サウンドやバイブレーションは使用しない（静音設計）。  
- 影や色変化で状態を表現し、派手な動きは避ける。  

---

**Document ID:** SEC-APP-BOARD-DETAIL-007-CH07  
**Created:** 2025-10-27  
**Last Updated:** 2025-10-31  
**Version:** 2.2  
