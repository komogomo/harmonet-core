# 第3章: 掲示板一覧画面
**掲示板機能 詳細設計書 v2.3（HarmoNet準拠）**

[← 第2章](board-design-ch02_v2.1.md) | [目次に戻る](board-design-ch00-index_v2.0.md) | [第4章へ →](board-design-ch04_v2.1.md)

---

## 🆕 ChangeLog (v2.3 / 2025-10-31)
- 旧v2.2から文書レイヤーを純化（HTML構造記述を削除）  
- tenant_id に基づく掲示板スコープ制御の説明を追加  
- HarmoNet UIトーン（やさしく・自然・控えめ）に再整形  
- GPTレビューコメントを末尾に再配置  
- ファイルバージョンを2.3へ更新（完全版更新方針に準拠）  

---

## 3.1 画面概要

掲示板一覧画面は、住民が各カテゴリや掲示板種類（全体／グループ／回覧板）を横断的に確認できるトップ画面である。  
投稿をカード形式で表示し、最新情報をすぐに把握できるよう設計している。

> 本画面では、ログイン時の **tenant_id** に基づき、所属テナントの掲示板のみを表示します。  
> 他テナントの投稿は一切表示・検索対象とならず、住民は自分のコミュニティ内情報に集中できます。  

---

## 3.2 画面構成

### メインレイアウト

- **ヘッダー**：ページタイトル「掲示板」およびカテゴリ選択ボタンを配置。  
- **タブ切替**：全体／グループ／回覧板を切り替えるタブを上部に固定。  
- **投稿カード一覧**：新着順にカードを縦スクロール表示。  
- **フッター**：共通ナビゲーション（ホーム／お知らせ／掲示板／施設予約／ログアウト）を表示。  

**レイアウト特性**
- 1画面に収まる情報量を最適化（1投稿あたり約3行プレビュー）。  
- 背景は白基調、カード影はごく薄く、HarmoNet全体の「やさしい・自然・控えめ」トーンに準拠。  
- カードごとの角丸は2xl（16px相当）とし、触感的な柔らかさを表現。  

---

## 3.3 投稿カード仕様

各投稿は「情報カード」としてまとめて表示される。  
住民はスクロール操作で複数投稿を視覚的に確認できる。

**カード内要素**
| 項目 | 内容 |
|------|------|
| 投稿者情報 | ニックネームまたは「管理組合」などの組織名 |
| カテゴリ | バッジ表示（例: 📣お知らせ） |
| タイトル | 投稿タイトル（最大50文字） |
| 本文プレビュー | 冒頭100文字を省略表示（...でカット） |
| 添付ファイルアイコン | 画像／PDF／Officeファイル種別を簡易アイコンで表示 |
| 投稿日時 | 投稿日の時刻を右下に表示（相対時間または日時） |

**動作仕様**
- タップで「投稿詳細画面（第4章）」へ遷移。  
- 回覧板の場合は「👁未読」「✅既読」をバッジで表示。  
- 画像がある場合は1枚目をサムネイルとして左側に配置。  

---

## 3.4 タブ切替仕様

| タブ | 表示対象 | 権限 |
|------|-----------|------|
| 全体 | すべての住民投稿 | 全ユーザー |
| グループ | 所属グループの投稿のみ | 該当グループ所属者 |
| 回覧板 | 管理者投稿（通知専用） | 全ユーザー（閲覧のみ） |

**切替操作**
- タブをタップすると即座にフィルタリング。  
- アニメーションは0.2秒フェードで切替を明示。  
- 現在タブを青（#2B7AF9）、非アクティブタブをグレー（#BDBDBD）で表示。  

---

## 3.5 検索・絞り込み（Phase 2）

Phase 2では、キーワード検索およびカテゴリフィルタリング機能を追加予定。  

**検索仕様（予定）**
- タイトル／本文を対象に部分一致検索  
- 検索結果はリアルタイムに反映（遅延0.3秒以内）  
- 検索履歴を5件まで保存  

**フィルタリング仕様（予定）**
- カテゴリ一覧から複数選択可  
- グループ掲示板では所属カテゴリのみ選択可能  
- フィルタ解除ボタンを常時表示  

---

## 3.6 空状態のデザイン

投稿が存在しない場合、次のようなメッセージを中央に表示する。

```
まだ投稿がありません。
最初の投稿を作成してみましょう。
```

- 背景に淡いイラストを配置（非干渉トーン #F5F5F5）  
- 「＋投稿する」ボタンを画面下中央に表示し、自然に誘導する。  

---

## 3.7 非機能・パフォーマンス要件

- 一覧表示は1ページあたり最大30件まで取得。  
- スクロール末尾で自動追加読み込み（無限スクロール方式）。  
- 1リクエストあたりの応答時間は2秒以内を目標とする。  
- 投稿データはtenant_idとカテゴリでキャッシュ管理し、他テナント情報の混在を防止。  

---

## 3.8 設計意図まとめ

1. 一覧画面を「読む体験」として設計し、ストレスのない閲覧性を重視。  
2. テナントスコープを厳密に分離し、他コミュニティとの誤表示を防止。  
3. 投稿カードの統一デザインにより、視覚的秩序と安心感を提供。  
4. UI構成はシンプルかつ温かみのあるトーンで、住民の日常的な利用を促す。  

---

## GPTレビュー要約コメント（再構成版）

> 第3章は、UX観点から掲示板の「読む体験」を最も明確に定義している。  
> tenant_idによるデータ分離の考え方がUI層に自然に溶け込んでおり、マルチテナント構造を感じさせない利用体験を実現している。  
> UIデザインは心理的安全性と情報密度のバランスが取れており、日常利用を前提とした穏やかな完成度を持つ。  
> — *GPT上流設計レビュー担当（再編集）*  

---

**Document ID:** SEC-APP-BOARD-DESIGN-002-CH03  
**Version:** 2.3  
**Created:** 2025-10-27  
**Last Updated:** 2025-10-31  
**Author:** TKD + GPT (HarmoNet PMO)  
