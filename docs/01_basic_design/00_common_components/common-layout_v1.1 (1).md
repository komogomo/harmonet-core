# 共通画面レイアウト設計書 v1.1

**Document ID:** SEC-APP-COMMON-LAYOUT-001  
**Version:** 1.1  
**Created:** 2025年10月27日  
**Updated:** 2025年10月27日  
**Design System:** HarmoNet Design System v1  
**Purpose:** 全画面共通の3層構造レイアウト仕様

---

## 1. 概要

本ドキュメントは、セキュレアシティ スマートコミュニケーションアプリの**全画面共通レイアウト構造**を定義します。

### 1.1 適用範囲

- **対象画面:** ログイン画面を除く全画面
- **対象デバイス:** スマートフォン、タブレット、PC

### 1.2 設計原則

- **統一性:** 全画面で同じレイアウト構造を採用
- **予測可能性:** ユーザーがどの画面でも操作方法を迷わない
- **保守性:** 共通部分の修正が全画面に自動反映
- **静けさ:** HarmoNetの「静かで、安心できる、永く使えるUI」に準拠

---

## 2. 3層構造の定義

全画面は以下の3層構造で構成されます。

### 2.1 構造概要

```
┌─────────────────────────────────┐
│       ヘッダー領域（固定）        │ ← 全画面共通
├─────────────────────────────────┤
│                                 │
│      コンテンツ領域（可変）       │ ← 画面ごとに異なる
│                                 │
│         （スクロール可能）        │
│                                 │
├─────────────────────────────────┤
│       フッター領域（固定）        │ ← 全画面共通
└─────────────────────────────────┘
```

### 2.2 各領域の役割

| 領域名 | 役割 | 高さ | スクロール |
|--------|------|------|-----------|
| **ヘッダー領域** | アプリ名、通知、言語切替 | 固定（60px） | なし（固定表示） |
| **コンテンツ領域** | 画面固有の内容 | 可変 | あり |
| **フッター領域** | ナビゲーション、ログアウト | 固定（60px） | なし（固定表示） |

---

## 3. ヘッダー領域（共通部品）

### 3.1 基本仕様（HarmoNet準拠）

- **高さ:** 60px（固定）、スマートフォンは56px
- **位置:** 画面最上部（position: fixed）
- **背景色:** `#FFFFFF`（白）
- **下部ボーダー:** `1px solid #E5E7EB`
- **z-index:** 1000（最前面表示）

### 3.2 配置要素

| 要素 | 位置 | サイズ | 機能 |
|------|------|--------|------|
| アプリ名（ロゴ） | 左端 | 150px × 40px | タップで HOME 画面へ遷移 |
| 通知ボタン | 右側 | 40px × 40px | 未読通知の確認 |
| 言語切替ボタン | 右端 | 80px × 40px | JA / EN / CN 切替 |

### 3.3 詳細設計

> **📄 詳細は別紙参照**
> 
> ヘッダー領域の詳細設計については、以下のドキュメントを参照してください:
> - 『**common-header-v1_1.md**』

---

## 4. コンテンツ領域（画面固有）

### 4.1 基本仕様

- **高さ:** 可変（画面全体から ヘッダー60px + フッター60px を除いた領域）
- **スクロール:** 縦方向スクロール可能
- **背景色:** 画面ごとに設定可能（デフォルト: `#F9FAFB`）

### 4.2 設計ガイドライン（HarmoNet準拠）

コンテンツ領域は**各画面で自由に設計**できますが、以下のルールを守る必要があります:

| ルール | 説明 |
|--------|------|
| **最大幅の制限** | PC画面では最大1024px、中央寄せ表示 |
| **余白の統一** | HarmoNet余白基準（16px/24px/32px）に準拠 |
| **タップ領域** | 最小44px×44px（モバイル） |
| **フォントサイズ** | 最小14px（モバイル） |
| **角丸** | カード: 1rem、ボタン: 0.5rem |
| **シャドウ** | shadow-smを基本とし、最小限の使用 |

**余白の具体的な基準:**
- **小要素間（アイコン、タグ）:** 8px
- **標準要素間:** 16px
- **コンテンツブロック間:** 24px
- **セクション間:** 32px
- **画面端のマージン:** 20px〜24px

### 4.3 推奨レイアウトパターン

各画面では、以下のレイアウトパターンを推奨します:

**パターンA: カード型レイアウト**
- HOME画面、お知らせ一覧など
- カード背景: `#FFFFFF`
- カード枠線: `1px solid #E5E7EB`
- カード角丸: 1rem (16px)
- カード影: shadow-sm
- カード間の余白: 16px
- カード内余白: 24px

**パターンB: リスト型レイアウト**
- 掲示板一覧、予約履歴など
- リスト項目の高さ: 最小60px
- 項目間の区切り線: `1px solid #E5E7EB`
- 項目内余白: 16px

**パターンC: フォーム型レイアウト**
- 投稿作成、プロフィール編集など
- 入力欄の高さ: 44px
- 入力欄背景: `#F9FAFB`
- 入力欄枠線: `1px solid #E5E7EB`
- 入力欄角丸: 0.5rem (8px)
- ラベルと入力欄の間: 8px
- 入力欄グループ間: 16px

---

## 5. フッター領域（共通部品）

### 5.1 基本仕様（HarmoNet準拠）

- **高さ:** 60px（固定）
- **位置:** 画面最下部（position: fixed）
- **背景色:** `#FFFFFF`（白）
- **上部ボーダー:** `1px solid #E5E7EB`
- **z-index:** 1000（最前面表示）

### 5.2 配置要素

ナビゲーションボタンを5つ + ログアウトボタン1つ配置:

| ボタン | アイコン | ラベル | 遷移先 |
|--------|---------|--------|--------|
| ホーム | 🏠 | ホーム | HOME画面 |
| お知らせ | 📢 | お知らせ | お知らせ一覧画面 |
| 掲示板 | 💬 | 掲示板 | 掲示板一覧画面 |
| 駐車場 | 🚗 | 駐車場 | 駐車場予約画面 |
| マイページ | 👤 | マイページ | マイページ画面 |
| ログアウト | 🚪 | ログアウト | ログイン画面へ |

### 5.3 アクティブ状態（HarmoNet準拠）

現在表示中の画面に対応するボタンは、以下のスタイルで強調表示:
- **背景色:** `#DBEAFE`（アクションブルー Light）
- **アイコン色:** `#2563EB`（アクションブルー）
- **ラベル色:** `#2563EB`（アクションブルー）
- **ラベル太さ:** 600 (Semibold)
- **角丸:** 0.5rem (8px)

### 5.4 詳細設計

> **📄 詳細は別紙参照**
> 
> フッター領域の詳細設計については、以下のドキュメントを参照してください:
> - 『**common-footer-v1_1.md**』

---

## 6. レスポンシブ対応

### 6.1 デバイスごとの高さ調整

| デバイス | ヘッダー高さ | フッター高さ |
|---------|------------|------------|
| **スマートフォン** | 56px | 60px |
| **タブレット** | 60px | 60px |
| **デスクトップ** | 60px | 60px |

### 6.2 コンテンツ領域の最大幅

| デバイス | 最大幅 | 配置 |
|---------|--------|------|
| **モバイル** | 100% | - |
| **タブレット** | 768px | 中央寄せ |
| **デスクトップ** | 1024px | 中央寄せ |

### 6.3 余白のレスポンシブ調整

| デバイス | 画面端余白（左右） | コンテンツブロック間 |
|---------|------------------|-------------------|
| **スマートフォン** | 20px | 16px |
| **タブレット** | 24px | 24px |
| **デスクトップ** | 32px | 32px |

---

## 7. HTML構造（参考）

### 7.1 基本構造

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画面タイトル - セキュレアシティ</title>
    <link rel="stylesheet" href="/css/common.css">
</head>
<body data-page="home">
    <!-- ヘッダー領域 -->
    <header class="app-header" role="banner">
        <!-- 詳細: common-header-v1_1.md 参照 -->
    </header>

    <!-- コンテンツ領域 -->
    <main class="app-content" role="main">
        <!-- 画面固有の内容 -->
    </main>

    <!-- フッター領域 -->
    <footer class="app-footer" role="contentinfo">
        <!-- 詳細: common-footer-v1_1.md 参照 -->
    </footer>
</body>
</html>
```

### 7.2 CSS クラス命名規則

| 領域 | クラス名 | 説明 |
|------|---------|------|
| ヘッダー | `app-header` | ヘッダー全体 |
| コンテンツ | `app-content` | コンテンツ全体 |
| フッター | `app-footer` | フッター全体 |

> **⚠️ 注意**
> 
> クラス名は、プロジェクトの命名規則（BEM等）に従って実装してください。
> 詳細は『**naming-conventions-v2_1_EN.md**』を参照。

---

## 8. CSS実装例（HarmoNet準拠）

### 8.1 基本レイアウトCSS

```css
/* ヘッダー */
.app-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background-color: #FFFFFF;
  border-bottom: 1px solid #E5E7EB;
  z-index: 1000;
}

/* コンテンツ */
.app-content {
  margin-top: 60px;
  margin-bottom: 60px;
  min-height: calc(100vh - 120px);
  background-color: #F9FAFB;
  padding: 20px;
}

/* フッター */
.app-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 60px;
  background-color: #FFFFFF;
  border-top: 1px solid #E5E7EB;
  z-index: 1000;
}

/* レスポンシブ対応 */
@media (max-width: 767px) {
  .app-header {
    height: 56px;
  }
  
  .app-content {
    margin-top: 56px;
    padding: 20px;
  }
}

@media (min-width: 768px) {
  .app-content {
    max-width: 768px;
    margin-left: auto;
    margin-right: auto;
    padding: 24px;
  }
}

@media (min-width: 1024px) {
  .app-content {
    max-width: 1024px;
    padding: 32px;
  }
}
```

---

## 9. アクセシビリティ

### 9.1 セマンティックHTML

3層構造は、セマンティックHTMLタグを使用して実装します:

- ヘッダー領域: `<header>` タグ
- コンテンツ領域: `<main>` タグ
- フッター領域: `<footer>` タグ

### 9.2 ランドマークロール

スクリーンリーダーが適切に認識できるよう、ARIAランドマークを設定します:

```html
<header role="banner">...</header>
<main role="main">...</main>
<footer role="contentinfo">...</footer>
```

### 9.3 スキップリンク

スクリーンリーダー利用者のため、コンテンツへのスキップリンクを提供します:

```html
<a href="#main-content" class="skip-link">
  メインコンテンツへスキップ
</a>
```

---

## 10. パフォーマンス考慮事項

### 10.1 初期レンダリング

- ヘッダー・フッターは初期表示時に即座にレンダリング
- コンテンツ領域はプログレッシブレンダリング可能

### 10.2 スクロールパフォーマンス

- コンテンツ領域のみスクロール対象
- ヘッダー・フッターは固定表示（`position: fixed`）
- スクロール時の再描画を最小限に抑える

---

## 11. 実装時の注意事項

### 11.1 ヘッダー・フッターの編集禁止

**重要:** ヘッダー・フッター領域は全画面共通のため、個別画面での編集は禁止です。

変更が必要な場合は、以下の手順で対応してください:
1. 共通設計書（`common-header-v1_1.md` または `common-footer-v1_1.md`）の改訂を提案
2. 承認後、全画面に適用

### 11.2 コンテンツ領域の自由度

コンテンツ領域は、各画面の要件に応じて自由に設計できます。

ただし、以下のガイドラインに従ってください:
- デザインシステムの色・タイポグラフィを遵守（`common-design-system-v1_1.md`）
- HarmoNet余白基準（16px/24px/32px）に準拠
- アクセシビリティ要件を満たす（`common-accessibility-v1_0.md`）
- パフォーマンス目標を達成（`common-performance-v1_0.md`）

---

## 12. デザイン哲学の適用

### 12.1 「静かで、安心できる、永く使えるUI」の実現

**1. 静けさの表現:**
- ヘッダーのグラデーション背景を削除し、白色で統一
- 過度な装飾を避け、余白でリズムを作る
- シャドウは最小限（shadow-sm）に抑える

**2. 安心感の提供:**
- 明確な境界線（ヘッダー・フッターのボーダー）で領域を区別
- 一貫したレイアウト構造で予測可能な操作性
- アクセシビリティ基準の遵守

**3. 永く使える設計:**
- トレンドに左右されないシンプルな構造
- セマンティックHTMLによる堅牢な実装
- レスポンシブデザインによる将来性

**4. 余白による呼吸感:**
- 16px / 24px / 32pxの余白基準を厳守
- 情報の優先順位を距離で表現
- グリッドを見せない自然なリズム

---

## 13. 関連ドキュメント

| ドキュメント名 | 説明 |
|--------------|------|
| `common-header-v1_1.md` | ヘッダー領域の詳細設計（HarmoNet準拠） |
| `common-footer-v1_1.md` | フッター領域の詳細設計（HarmoNet準拠） |
| `common-design-system-v1_1.md` | デザインシステム（HarmoNet準拠） |
| `common-accessibility-v1_0.md` | アクセシビリティ要件 |
| `common-performance-v1_0.md` | パフォーマンス要件 |
| `naming-conventions-v2_1_EN.md` | 命名規則 |
| `harmo_net_design_system_v_1.md` | HarmoNet Design System v1 |

---

**文書管理**
- 文書ID: SEC-APP-COMMON-LAYOUT-001
- バージョン: 1.1
- 作成日: 2025年10月27日
- 更新日: 2025年10月27日
- デザインシステム: HarmoNet Design System v1
- 承認者: （未定）
