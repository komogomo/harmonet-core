# 掲示板詳細画面 詳細設計書 v2.0 - 第1章: 画面概要と設計方針

**HarmoNET スマートコミュニケーションアプリ**

**文書ID**: HRM-APP-BOARD-DETAIL-DESIGN-001-CH01  
**バージョン**: v2.0  
**最終更新**: 2025年10月29日  
**作成者**: TKD + Claude

---

## 📝 改訂履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|---------|
| v1.0 | 2025年10月28日 | 初版作成 |
| v2.0 | 2025年10月29日 | 設計方針の詳細化、ユーザー体験目標の追加 |

---

## 目次

- [1.1 画面の目的と役割](#11-画面の目的と役割)
- [1.2 設計方針](#12-設計方針)
- [1.3 画面構成の全体像](#13-画面構成の全体像)
- [1.4 ユーザー体験の目標](#14-ユーザー体験の目標)

---

## 1.1 画面の目的と役割

### 1.1.1 投稿詳細画面の存在意義

掲示板詳細画面（board-detail）は、**住民が投稿された情報を正確に理解し、必要に応じてコメントで意見交換を行うための画面**です。

HarmoNETアプリの掲示板機能において、本画面は以下の重要な役割を担います：

#### 情報の正確な伝達
- 投稿のタイトル・本文・添付ファイルを**完全な形で表示**
- 一覧画面では省略されていた情報を全て閲覧可能
- 投稿者の意図を正確に伝える

#### 多言語コミュニティへの対応
- 日本語・英語・中国語の住民が**同じ情報を理解できる**環境
- 投稿本文とコメントに翻訳ボタンを配置
- 文化的背景が異なる住民同士のコミュニケーションを支援

#### 安心・安全なコミュニケーション環境
- 不適切な投稿を**通報できる仕組み**
- 自分の投稿は**編集・削除が可能**
- コメントを通じた**建設的な意見交換**を促進

#### 回覧板における確実な情報伝達
- 管理組合からの重要なお知らせを**確実に住民に届ける**
- 既読状況を可視化し、**読んだことを記録**
- 未読者への通知により情報の見落としを防ぐ

---

### 1.1.2 ユーザーにとっての価値

#### 一般住民にとって
- **詳細な情報を得られる** - 投稿の全文と添付ファイルを確認
- **理解しやすい** - 母語でない投稿も翻訳機能で理解可能
- **意見を述べられる** - コメント機能で投稿者や他の住民と対話
- **安心して利用できる** - 不適切な投稿は通報可能

#### 投稿者にとって
- **自分の投稿を管理できる** - 投稿後の編集・削除が可能
- **反応を確認できる** - コメント数や内容から住民の反応を把握
- **誤解を解消できる** - コメントで補足説明が可能

#### 管理組合にとって
- **情報の伝達状況を把握** - 回覧板の既読人数を確認
- **確実な周知が可能** - 未読者に対して個別通知（Phase 2）
- **住民の意見を収集** - コメントから住民の声を把握

---

### 1.1.3 システム全体での位置づけ

#### 掲示板機能における位置づけ

```
掲示板一覧画面（board.html）
  ↓ 投稿カードタップ
掲示板詳細画面（board-detail.html） ★本画面
  ↓ コメント投稿
  └→ 同画面をリロード
  ↓ 三点メニュー
  ├→ 通報理由選択画面
  └→ 投稿編集画面（自分の投稿のみ）
```

#### 画面遷移の流れ

**入口（前画面）**
- 掲示板一覧画面から投稿カードをタップ
- ホーム画面の「最新のお知らせ」から直接遷移（回覧板のみ）
- プッシュ通知から直接遷移（回覧板のみ）

**出口（次画面）**
- 戻るボタンで掲示板一覧画面へ
- フッターナビゲーションで他の主要画面へ
- 三点メニューから通報・編集画面へ

#### データフローの中心
本画面は以下のデータを扱います：

**取得するデータ**
- 投稿詳細（タイトル、本文、投稿者、日時、カテゴリ、添付ファイル）
- コメント一覧（投稿者、本文、日時）
- 既読状況（回覧板のみ：既読人数、既読率）
- ユーザー権限（編集・削除可否、既読済みか）

**送信するデータ**
- コメント投稿（本文、投稿者ID）
- 既読確認（ユーザーID、投稿ID）
- 通報情報（通報理由、補足説明）

---

## 1.2 設計方針

掲示板詳細画面は、HarmoNETの「**誰もが安心して触れられる、静かな優しさ**」というデザイン哲学に基づき、以下の4つの設計方針を定めます。

---

### 1.2.1 読みやすさの追求

#### 基本方針
**投稿の内容を正確に理解できること**を最優先とし、読みやすさを徹底的に追求します。

#### 具体的な設計判断

**文字サイズと行間**
- 本文フォントサイズ: **16px**（一覧画面の14pxより大きく）
- タイトルフォントサイズ: **20px**（視認性重視）
- 行間: **1.8**（本文の読みやすさを確保）
- 段落間隔: **16px**（段落の区切りを明確化）

**余白の確保**
- コンテンツ左右余白: **24px**（スマホでの可読性）
- セクション間余白: **32px**（投稿本文とコメントの明確な区切り）
- カード内余白: **16px**（各要素の適度な余白）

**色とコントラスト**
- 本文色: `text-gray-900` （#1F2937、高コントラスト）
- 背景色: `bg-white` （純白、疲れにくい）
- リンク色: `text-blue-600` （アクセシブルな青）
- 日時・メタ情報: `text-gray-500` （控えめだが読める）

**理由**: 近隣住民同士の重要な情報共有の場であり、誤解や読み間違いを防ぐため。特に高齢者や視力の弱い住民への配慮。

---

### 1.2.2 多言語対応の徹底

#### 基本方針
**日本語・英語・中国語の住民が対等に情報を得られる**環境を提供します。

#### 具体的な設計判断

**翻訳ボタンの配置**
- 投稿本文の直下に「翻訳」ボタン配置
- 各コメントの直下にも「翻訳」ボタン配置
- タップ1回で翻訳、もう1回で元の言語に戻る

**翻訳状態の明示**
- 翻訳後は「翻訳済み」マークを表示
- 元の言語を明示（例: 「原文: 日本語」）
- 翻訳精度への注意喚起（Phase 2）

**文字数制限の考慮**
- 翻訳後の文字数増加を考慮した余白設計
- 英語・中国語は日本語の1.2〜1.5倍の長さになる可能性
- レイアウト崩れを防ぐ余裕を持った設計

**理由**: セキュレアシティには多様な国籍の住民が暮らしており、言語の壁を取り除くことが共生の第一歩。

---

### 1.2.3 安心感の提供

#### 基本方針
**誰もが安心して投稿を閲覧し、コメントできる環境**を提供します。

#### 具体的な設計判断

**通報機能へのアクセス**
- 三点メニューに「通報」を明示
- 2タップで通報理由選択画面へ遷移
- 通報後も投稿は表示され続ける（削除されたと誤解させない）

**自分の投稿の管理**
- 自分の投稿には「編集」「削除」メニューを表示
- 他人の投稿には表示しない（権限の明確化）
- 編集・削除前に確認ダイアログ表示

**モデレーション状態の表示**
- AI自動チェック済みであることを暗示（Phase 2）
- 不適切な投稿はそもそも表示されない
- 安心して利用できることを明示

**既読管理の透明性（回覧板）**
- 既読人数を明示（例: 「45人 / 50人が既読」）
- 自分が既読にしたことを明確に表示
- プライバシーへの配慮（個人名は表示しない）

**理由**: 近隣住民同士のコミュニティでは、荒れたら実生活に深刻な影響が出る。安心して利用できる環境が必須。

---

### 1.2.4 コメントのしやすさ

#### 基本方針
**投稿に対して気軽に意見を述べられる**環境を提供します。

#### 具体的な設計判断

**入力欄の常時表示**
- コメント入力欄は**画面下部に固定表示**（返信可の投稿のみ）
- スクロールしても入力欄は表示され続ける
- 「コメントを書く...」のプレースホルダーで誘導

**文字数制限の明示**
- 入力中に「残り○○文字」をリアルタイム表示
- 最大500文字（投稿本文の2000文字より短い）
- 超過時は赤文字で警告

**送信の容易さ**
- 送信ボタンは常に表示
- 1文字以上入力すると送信ボタンが有効化
- タップ後は即座にコメントが反映

**キャンセルの容易さ**
- キャンセルボタンを明示
- 入力中の文字は失われることを確認ダイアログで通知
- 誤操作を防ぐ

**理由**: コメント機能は住民同士の対話を促進する重要な機能。気軽に意見を述べられる環境が、コミュニティの活性化につながる。

---

## 1.3 画面構成の全体像

### 1.3.1 3層構造の適用

掲示板詳細画面は、HarmoNETの共通画面構造に従い、以下の**3層構造**で構成されます。

```
┌─────────────────────────────────┐
│   Header（ヘッダー領域）         │ ← 共通部品
│   - 戻るボタン                    │
│   - 画面タイトル                  │
│   - 三点メニュー                  │
│   - 通知・言語切替                │
├─────────────────────────────────┤
│   Content（コンテンツ領域）      │ ← 本画面固有
│                                   │
│   ┌───────────────────────────┐ │
│   │ 投稿詳細エリア              │ │
│   │ - カテゴリバッジ            │ │
│   │ - タイトル                  │ │
│   │ - 投稿者情報・日時          │ │
│   │ - 本文                      │ │
│   │ - 添付画像                  │ │
│   │ - 翻訳ボタン                │ │
│   └───────────────────────────┘ │
│                                   │
│   ┌───────────────────────────┐ │
│   │ 既読状況エリア（回覧板のみ）│ │
│   │ - 既読人数表示              │ │
│   │ - 既読ボタン                │ │
│   └───────────────────────────┘ │
│                                   │
│   ┌───────────────────────────┐ │
│   │ コメントエリア              │ │
│   │ - コメント件数              │ │
│   │ - コメント一覧              │ │
│   └───────────────────────────┘ │
│                                   │
│   ┌───────────────────────────┐ │
│   │ コメント入力エリア          │ │
│   │ - 入力フォーム              │ │
│   │ - キャンセル・送信ボタン    │ │
│   └───────────────────────────┘ │
├─────────────────────────────────┤
│   Footer（フッター領域）         │ ← 共通部品
│   - ホーム                        │
│   - お知らせ                      │
│   - 掲示板                        │
│   - 見守り                        │
│   - マイページ                    │
└─────────────────────────────────┘
```

---

### 1.3.2 各エリアの役割

#### ヘッダー領域（共通部品）
- **戻るボタン**: 掲示板一覧画面に戻る
- **画面タイトル**: 「掲示板」を表示
- **三点メニュー**: 通報・編集・削除
- **通知ボタン**: 未読通知の確認
- **言語切替**: 日本語・英語・中国語の切り替え

詳細仕様: `common-header_v1_1.md` を参照

#### 投稿詳細エリア（本画面固有）
投稿の**本文・添付ファイル・メタ情報**を表示

**主要要素**
- カテゴリバッジ（色分け）
- タイトル（太字、大きめ）
- 投稿者情報（ニックネーム/実名、投稿日時）
- 本文（全文表示、改行・リンク対応）
- 添付画像（プレビュー、タップで拡大）
- 添付ファイル（PDF・Office、ダウンロードリンク）
- 翻訳ボタン

詳細仕様: 第3章 `board-detail-design-ch03_v1_0.md` を参照

#### 既読状況エリア（回覧板のみ表示）
回覧板投稿における**既読管理**を行う

**主要要素**
- 既読人数表示（例: 「45人 / 50人が既読（90%）」）
- 「既読にする」ボタン
- 既読完了後の表示（「既読済み」マーク）

詳細仕様: 第4章 `board-detail-design-ch04_v1_0.md` を参照

#### コメントエリア（本画面固有）
投稿に対する**コメント一覧**を表示

**主要要素**
- コメント件数（例: 「コメント 8件」）
- 各コメント表示
  - 投稿者ニックネーム
  - 投稿日時
  - コメント本文
  - 翻訳ボタン

詳細仕様: 第5章 `board-detail-design-ch05_v1_0.md` を参照

#### コメント入力エリア（本画面固有）
新しい**コメントを投稿**する

**主要要素**
- テキスト入力欄（最大500文字）
- 文字数カウンター
- キャンセルボタン
- 送信ボタン

詳細仕様: 第6章 `board-detail-design-ch06_v1_0.md` を参照

#### フッター領域（共通部品）
アプリ内の主要画面への**ナビゲーション**

詳細仕様: `common-footer_v1_1.md` を参照

---

### 1.3.3 画面レイアウトの設計原則

#### スクロール動作
- コンテンツ領域全体が**縦方向にスクロール**
- ヘッダーとフッターは**固定表示**（スクロールしても常に表示）
- コメント入力エリアは**最下部に配置**（スクロールで到達）

#### 余白とリズム
- 各セクション間に**32px**の余白
- カード内要素間に**16px**の余白
- 左右余白は**24px**（スマホ最適化）

#### レスポンシブ対応
- **スマホファースト**設計（320px〜）
- タブレット（768px〜）では左右余白を増加
- デスクトップ（1024px〜）では最大幅を制限（800px）

---

## 1.4 ユーザー体験の目標

掲示板詳細画面は、以下のユーザー体験目標を達成することを目指します。

---

### 1.4.1 一般住民の体験目標

#### 📖 投稿を読む体験

**目標**: 投稿の内容を**ストレスなく正確に理解**できる

**実現方法**
- 十分な文字サイズと行間で読みやすく
- 添付画像は大きくプレビュー表示
- 長文でも読み進めやすいレイアウト

**成功指標**
- ✅ ユーザーが投稿を最後まで読む完読率 > 80%
- ✅ 「文字が小さくて読めない」という問い合わせ < 5%
- ✅ 添付画像の拡大表示利用率 > 60%

#### 💬 コメントを書く体験

**目標**: 投稿に対して**気軽に意見を述べられる**

**実現方法**
- コメント入力欄を常時表示
- 文字数制限を明示
- 送信後すぐにコメントが反映

**成功指標**
- ✅ 投稿閲覧者のうちコメント投稿率 > 15%
- ✅ コメント投稿完了率（入力開始→送信完了） > 90%
- ✅ コメント投稿後の離脱率 < 10%

#### 🛡️ 不適切な投稿を見つけた体験

**目標**: **簡単に通報**でき、安心感を得られる

**実現方法**
- 三点メニューから2タップで通報
- 通報理由を選択できる
- 通報完了後もスムーズに画面に戻る

**成功指標**
- ✅ 不適切な投稿の通報完了率 > 95%
- ✅ 通報機能の存在認知率 > 80%
- ✅ 通報後の「安心できる」という評価 > 85%

---

### 1.4.2 回覧板閲覧時の体験目標

#### 📋 回覧板を読む体験

**目標**: 管理組合からの重要なお知らせを**確実に理解し、既読にする**

**実現方法**
- 既読状況を明示（既読人数・割合）
- 「既読にする」ボタンを目立たせる
- 既読後は「既読済み」マークを表示

**成功指標**
- ✅ 回覧板の既読率 > 95%（7日以内）
- ✅ 既読ボタンのタップ成功率 > 98%
- ✅ 既読後の「読んだことが記録された」という安心感 > 90%

#### ⏰ 既読期限のある回覧板の体験（Phase 2）

**目標**: 期限内に**確実に既読にする**

**実現方法**
- 期限が近い場合は警告表示
- 未読の場合はプッシュ通知
- 期限超過後も投稿は表示

**成功指標**
- ✅ 期限内既読率 > 90%
- ✅ プッシュ通知からの遷移率 > 70%
- ✅ 期限超過による問い合わせ < 5%

---

### 1.4.3 コメント投稿時の体験目標

#### ✍️ コメントを書く体験

**目標**: 投稿者や他の住民と**建設的な対話**ができる

**実現方法**
- 入力欄は常に表示
- 文字数制限をリアルタイム表示
- AI自動チェックで不適切な表現を防止

**成功指標**
- ✅ コメント投稿のうち不適切コメントの割合 < 2%
- ✅ コメント投稿後のエラー率 < 1%
- ✅ コメント入力からのキャンセル率 < 20%

#### 🔄 コメントへの返信を読む体験

**目標**: 自分のコメントへの**反応を確認**できる

**実現方法**
- コメント投稿後、同画面をリロード
- 新しいコメントが追加されたことを明示
- プッシュ通知でコメント返信を通知（Phase 2）

**成功指標**
- ✅ コメント投稿後の画面リロード成功率 > 99%
- ✅ 新規コメント追加の認識率 > 90%
- ✅ 返信通知のタップ率 > 60%（Phase 2）

---

### 1.4.4 多言語ユーザーの体験目標

#### 🌐 翻訳機能を使う体験

**目標**: 母語でない投稿も**正確に理解**できる

**実現方法**
- 投稿本文・コメントごとに翻訳ボタン配置
- 1タップで翻訳、もう1回で元の言語に戻る
- 翻訳済みであることを明示

**成功指標**
- ✅ 翻訳ボタンの利用率（非日本語話者） > 80%
- ✅ 翻訳完了までの時間 < 2秒
- ✅ 翻訳精度への満足度 > 75%

#### 📝 母語で投稿・コメントする体験

**目標**: 母語で投稿・コメントし、他の住民と**対等にコミュニケーション**できる

**実現方法**
- 入力時の言語を自動判定
- 他のユーザーが翻訳できる
- 母語での投稿を奨励

**成功指標**
- ✅ 非日本語での投稿・コメント割合 > 20%
- ✅ 多言語投稿への翻訳利用率 > 90%
- ✅ 言語の壁を感じない評価 > 85%

---

## 📊 体験目標の測定方法

上記の体験目標は、以下の方法で測定します：

### 定量指標
- **アナリティクスツール**（Google Analytics等）でのユーザー行動追跡
- **アプリ内イベント**（ボタンタップ、画面遷移）のログ収集
- **完了率**（投稿閲覧→コメント投稿、通報開始→完了など）

### 定性指標
- **ユーザーインタビュー**（住民へのヒアリング）
- **アンケート調査**（満足度、使いやすさ評価）
- **問い合わせ内容分析**（管理組合への問い合わせ内容）

### Phase 1（MVP）での重点測定項目
- 投稿閲覧の完読率
- コメント投稿率
- 翻訳機能の利用率
- 通報機能の認知率
- 回覧板の既読率

---

## 🔗 関連ドキュメント

本章で定義した設計方針と体験目標は、以下のドキュメントで具体化されます：

### 各エリアの詳細仕様
- [第2章: ヘッダー領域](board-detail-design-ch02_v1_0.md)
- [第3章: 投稿詳細エリア](board-detail-design-ch03_v1_0.md)
- [第4章: 既読状況エリア](board-detail-design-ch04_v1_0.md)
- [第5章: コメントエリア](board-detail-design-ch05_v1_0.md)
- [第6章: コメント入力エリア](board-detail-design-ch06_v1_0.md)

### インタラクション・状態管理
- [第7章: インタラクション仕様](board-detail-design-ch07_v1_0.md)
- [第8章: 状態管理とエラーハンドリング](board-detail-design-ch08_v1_0.md)

### 共通部品・デザインシステム
- `common-header_v1_1.md` - ヘッダー共通仕様
- `common-footer_v1_1.md` - フッター共通仕様
- `common-i18n_v1_0.md` - 翻訳機能の共通仕様
- `harmonet-design-system_v1_0.md` - HarmoNET Design System
- `01_DESIGN_PHILOSOPHY_Securea_City_Guideline_v2_0.md` - デザイン哲学

### 機能要件
- `board-feature-design-v1_1.md` - 掲示板機能全体の要件
- `プロダクト開発用_機能要件定義書_v1_1.txt` - 全体機能要件

---

## ✅ 次のステップ

本章で定義した画面概要と設計方針をベースに、以下の章で詳細仕様を定義していきます：

1. **第2章**: ヘッダー領域の各要素の配置・動作を定義
2. **第3章**: 投稿詳細エリアの表示仕様を詳細化
3. **第4章**: 既読状況エリアの動作フローを定義
4. **第5章**: コメント表示の仕様を詳細化
5. **第6章**: コメント入力フォームのバリデーションを定義
6. **第7章**: ユーザー操作とシステム応答を定義
7. **第8章**: エラーハンドリングと状態管理を定義

各章の詳細仕様は、本章の設計方針とユーザー体験目標に基づいて作成されます。

---

**Document ID:** HRM-APP-BOARD-DETAIL-DESIGN-001-CH01  
**Status:** 承認待ち  
**Created:** 2025-10-29  
**Last Updated:** 2025-10-29  
**Approved by:** _未承認_

---

HarmoNET スマートコミュニケーションアプリ  
掲示板詳細画面 詳細設計書 v2.0 - 第1章
