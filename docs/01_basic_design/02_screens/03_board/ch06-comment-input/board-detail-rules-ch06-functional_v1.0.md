# HarmoNet Board Detail Rules ch06
## コメント入力エリア制御ルール（v1.0）

### 1. 概要
本書は、HarmoNet掲示板詳細画面における「コメント入力領域（ch06）」の表示条件および操作ルールを定義する。

### 2. 表示条件
- 投稿属性 is_commentable = true の場合のみコメント入力カードを表示。
- 管理組合投稿・回覧板投稿・システム通知では非表示。
- コメント不可の場合、代替メッセージを固定表示する：  
  > 「この投稿にはコメントを追加できません（管理組合からのお知らせ）」

### 3. 入力欄の仕様
- テキストエリアは固定表示。初期状態では非アクティブ。  
- 入力開始で「投稿する」ボタンを有効化。  
- 最大文字数は500文字。リアルタイムカウンタを右下に表示。  
- 改行は保持し、連続改行は1行に圧縮。

### 4. 操作ボタン
- 投稿：コメントをAPI経由で送信し、成功時にトーストを表示。
- キャンセル：入力欄をクリアし、ボタンを無効化。
- 投稿ボタンは入力文字数が0の時は常に無効。

### 5. 状態管理
- 投稿成功後はコメント一覧を再描画。
- 通信エラー時にはトースト（エラー）を表示。  
  > 「コメントの送信に失敗しました。再試行してください。」

**Created:** 2025-10-30  
**Last Updated:** 2025-10-30  
**Version:** v1.0  
**Document ID:** board-detail-rules-ch06-functional_v1.0
